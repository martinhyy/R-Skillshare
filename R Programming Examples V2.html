<!DOCTYPE html>
<html>
<head>
  <title>Greenpeace Insight Skillshare</title>
  <meta charset="utf-8">
  <meta name="description" content="Greenpeace Insight Skillshare">
  <meta name="author" content="Martin Hou">
  <meta name="generator" content="slidify" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/default.css" media="all" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/phone.css" 
    media="only screen and (max-device-width: 480px)" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/slidify.css" >
  <link rel="stylesheet" href="libraries/highlighters/highlight.js/css/tomorrow.css" />
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->  
  
  <!-- Grab CDN jQuery, fall back to local if offline -->
  <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.min.js"></script>
  <script>window.jQuery || document.write('<script src="libraries/widgets/quiz/js/jquery.js"><\/script>')</script> 
  <script data-main="libraries/frameworks/io2012/js/slides" 
    src="libraries/frameworks/io2012/js/require-1.0.8.min.js">
  </script>
  
  

</head>
<body style="opacity: 0">
  <slides class="layout-widescreen">
    
    <!-- LOGO SLIDE -->
        <slide class="title-slide segue nobackground">
  <aside class="gdbar">
    <img src="assets/img/sb7ixc5z.png">
  </aside>
  <hgroup class="auto-fadein">
    <h1>Greenpeace Insight Skillshare</h1>
    <h2>R Programming Demo</h2>
    <p>Martin Hou<br/>Data Specialist</p>
  </hgroup>
    <a href="https://github.com/martinhyy/Insight_Skillshare/zipball/gh-pages" class="example">
     Download
    </a>
  <article></article>  
  <footer class = 'license'>
    <a href='http://creativecommons.org/licenses/by-nc-sa/3.0/'>
    <img width = '80px' src = 'http://mirrors.creativecommons.org/presskit/buttons/88x31/png/by-nc-sa.png'>
    </a>
  </footer>
</slide>
    

    <!-- SLIDES -->
    <slide class="" id="slide-1" style="background:;">
  <article data-timings="">
    <style>
pre code, pre, code {

  overflow-x: scroll !important;


}


aside.gdbar img{
  
  width: 80px;
  height: 80px;


}

div.centered {

  text-align: left;


}

</style>

<h2>Introducing R</h2>

<!--
This is an R Markdown presentation. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document.-->

<p><br> </br></p>

<ul class = "build incremental">
<li><h1>R is a programming language for statistical computing</h1></li>
<li><h1>khskshdkfjh</h1></li>
<li><h1>kdfhkhdfkhsd</h1></li>
<li><h1>skdfkhsfkh</h1></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-2" style="background:;">
  <hgroup>
    <h2>Why R</h2>
  </hgroup>
  <article data-timings="">
    <p><br> </br></p>

<ul class = "build incremental">
<li><h1>R is free and open source</h1></li>
<li><h1>Reading different data from different platform</h1></li>
<li><h1>Provides different data manipulation packages and functions</h1></li>
<li><h1>Data modelling, forecasting and a lot other analytic functions</h1></li>
<li><h1>Data visualization: basic R plot and interactive plots integrated with Google visualization and javascript libraries</h1></li>
<li><h1><code>shiny</code> dashboard: integrate analysis output to dashboard and share with others</h1></li>
<li><h1>Markdown Documentation</h1></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-3" style="background:;">
  <hgroup>
    <h2>Some stats about R</h2>
  </hgroup>
  <article data-timings="">
    <!--

- Bullet 1
- Bullet 2
- Bullet 3

-->

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-4" style="background:;">
  <hgroup>
    <h2>Something in between</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">summary(cars)
</code></pre>

<pre><code>##      speed           dist       
##  Min.   : 4.0   Min.   :  2.00  
##  1st Qu.:12.0   1st Qu.: 26.00  
##  Median :15.0   Median : 36.00  
##  Mean   :15.4   Mean   : 42.98  
##  3rd Qu.:19.0   3rd Qu.: 56.00  
##  Max.   :25.0   Max.   :120.00
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="dark nobackground" id="slide-5" style="background:;">
  <article data-timings="">
    <p style='font-size:100px'>
<font color='white'>
R Connectivity 
</font>
</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-6" style="background:;">
  <hgroup>
    <h2>Connect to different data</h2>
  </hgroup>
  <article data-timings="">
    <p><br> </br></p>

<ul class = "build incremental">
<li><h1>flat/txt file: <code>read.table()</code></h1></li>
<li><h1>csv file: <code>read.csv()</code></h1></li>
<li><h1>MySQL/SQL database: <code>odbcConnect(&quot;ServerName&quot;, uid = &quot;UserName&quot;, pwd = &quot;Password&quot;)</code></h1></li>
<li><h1>Online data</h1></li>
<li><h1>GIS data: <code>readOGR()</code></h1></li>
<li><h1>Graph database: <a href="https://neo4j.com/developer/r/"> <code>RNeo4j</code> </a></h1></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-7" style="background:;">
  <hgroup>
    <h2>R to flat file</h2>
  </hgroup>
  <article data-timings="">
    <!--
comment = NA helps remove the # in the output
echo = FLASE means only show the final output make all R code and relating comments invisible
prompt = TRUE you will see a little + symbol 
-->

<div style='float:left;width:48%;' class='centered'>
  <p>Load a txt file into R</p>

<pre><code class="r">df &lt;- read.table(&quot;X:\\Box Sync\\Fundraising\\Analysis\\Martin\\Bangkok_Skillshare\\Data\\SMS.txt&quot;,
                 header = T,
                 sep = &quot;\t&quot;)
</code></pre>

<pre><code>Warning in file(file, &quot;rt&quot;): cannot open file &#39;X:\Box Sync\Fundraising
\Analysis\Martin\Bangkok_Skillshare\Data\SMS.txt&#39;: No such file or
directory
</code></pre>

<pre><code>Error in file(file, &quot;rt&quot;): cannot open the connection
</code></pre>

<pre><code class="r">head(df)
</code></pre>

<pre><code>
1 function (x, df1, df2, ncp, log = FALSE)    
2 {                                           
3     if (missing(ncp))                       
4         .Call(C_df, x, df1, df2, log)       
5     else .Call(C_dnf, x, df1, df2, ncp, log)
6 }                                           
</code></pre>

<!--make these two examples side by side-->

</div>
<div style='float:right;width:48%;'>
  <p>Load a csv file into R</p>

<pre><code class="r">df &lt;- read.csv(&quot;X:\\Box Sync\\Fundraising\\Analysis\\Martin\\Bangkok_Skillshare\\Data\\SMS.csv&quot;,
               header = T,
               stringsAsFactors = F)
</code></pre>

<pre><code>Warning in file(file, &quot;rt&quot;): cannot open file &#39;X:\Box Sync\Fundraising
\Analysis\Martin\Bangkok_Skillshare\Data\SMS.csv&#39;: No such file or
directory
</code></pre>

<pre><code>Error in file(file, &quot;rt&quot;): cannot open the connection
</code></pre>

<pre><code class="r">head(df)
</code></pre>

<pre><code>
1 function (x, df1, df2, ncp, log = FALSE)    
2 {                                           
3     if (missing(ncp))                       
4         .Call(C_df, x, df1, df2, log)       
5     else .Call(C_dnf, x, df1, df2, ncp, log)
6 }                                           
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-8" style="background:;">
  <hgroup>
    <h2>R to MySQL and SQL</h2>
  </hgroup>
  <article data-timings="">
    <style type="text/css">

code.r{ /* Code block */
  font-size: 15px;
}

code.vhdl{

  font-size: 15px;

}


</style>

<!--
Base functions in R don't have the ability to connect to database
R packages needed here

-->

<pre><code class="r">library(RODBC)
RE_connect &lt;- odbcConnect(&quot;RE7&quot;, uid = &quot;SSRS&quot;, pwd = &quot;xH^SfWJ2R4&quot;)
gift &lt;- sqlQuery(RE_connect, 
               query = &quot;
               select RECORDS.CONSTITUENT_ID, ...Truncated
               where GIFT.DTE between &#39;2016-09-01&#39; and &#39;2016-09-30&#39;
               and GIFT.TYPE in (31) and (FUND.FUND_ID like &#39;%AQ-PHONE%&#39; or FUND.FUND_ID like &#39;%AQ-DDC%&#39;)
               &quot;)
head(gift)
</code></pre>

<pre><code>Error in sqlQuery(RE_connect, query = &quot;\n               select RECORDS.CONSTITUENT_ID,\n                      GIFT.DTE,\n                      GiftSplit.Amount,\n                      GIFT.TYPE,\n                      APPEAL.APPEAL_ID,\n                      FUND.FUND_ID,\n                      case \n                        when APPEAL.APPEAL_ID like &#39;DDC%&#39; then &#39;Street Recurring&#39;\n                        when APPEAL.APPEAL_ID like &#39;DTD%&#39; then &#39;Door Recurring&#39;\n                        else &#39;Telefundraising Recurring&#39;\n                      end as [GROUP] \n              from GiftSplit\n              left join GIFT\n              on GiftSplit.GiftId = GIFT.ID\n              left join APPEAL\n              on GiftSplit.AppealId = APPEAL.ID\n              left join FUND\n              on GiftSplit.FundId = FUND.ID\n              left join RECORDS\n              on GIFT.CONSTIT_ID = RECORDS.ID\n              where GIFT.DTE between &#39;2013-01-01&#39; and &#39;2016-09-30&#39;\n              and GIFT.TYPE in (31)\n              and (FUND.FUND_ID like &#39;%AQ-PHONE%&#39; \n              or FUND.FUND_ID like &#39;%AQ-DDC%&#39;)\n               &quot;): first argument is not an open RODBC channel
</code></pre>

<pre><code>Error in head(gift): object &#39;gift&#39; not found
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-9" style="background:;">
  <hgroup>
    <h2>R to online data</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-10" style="background:;">
  <hgroup>
    <h2>R to GIS data</h2>
  </hgroup>
  <article data-timings="">
    <p>Shapefile and raster data can be imported into R</p>

<ul>
<li>Shapefile into R</li>
</ul>

<div style='float:left;width:48%;' class='centered'>
  <pre><code class="r">library(rgdal)
london.shp &lt;- readOGR(dsn = &quot;X:\\Box Sync\\Fundraising\\Analysis\\Martin\\Bangkok_Skillshare\\Data\\ESRI&quot;, 
    layer = &quot;London_Borough_Excluding_MHW&quot;)
plot(london.shp)
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <pre><code>## Error in library(rgdal): there is no package called &#39;rgdal&#39;
</code></pre>

<pre><code>## Error in eval(expr, envir, enclos): could not find function &quot;readOGR&quot;
</code></pre>

<pre><code>## Error in eval(expr, envir, enclos): object &#39;london.shp&#39; not found
</code></pre>

<pre><code>## Error in plot(london.shp): object &#39;london.shp&#39; not found
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-11" style="background:;">
  <hgroup>
    <h2>R to GIS data</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Raster data into R</li>
</ul>

<!--
word temperature data

-->

<pre><code class="r">library(raster)
World.Temp &lt;- getData(&#39;worldclim&#39;, var = &#39;tmax&#39;, res = 10)
plot(World.Temp)
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-12" style="background:;">
  <hgroup>
    <h2>R to Graph database</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="dark" id="slide-13" style="background:;">
  <article data-timings="">
    <p style='font-size:100px'>
<font color='white'>
R data manipulation 
</font>
</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-14" style="background:;">
  <hgroup>
    <h2>Data manipulation using base R functions</h2>
  </hgroup>
  <article data-timings="">
    <!--
data.frame()
aggregate()

The problem of using R base functions to manipulate data is sometimes when the dataset gets larger the process could be slower

why?

It's the problem of how R works

-->

<p>Base function like <code>aggregate()</code> gives us the ability to aggregate raw data without using any external packages.</p>

<p>However <code>aggregate()</code> is not really efficient when dataset gets larger and aggregation becomes complex. </p>

<div style='float:left;width:48%;' class='centered'>
  <pre><code class="r">start.time &lt;- Sys.time()
gift.ag1 &lt;- as.data.frame(as.list(aggregate(Amount ~ Year + month + GROUP,
                      data = gift, 
                      FUN = function(x) c(Count = length(x), Average = mean(x), Total = sum(x)))
                                 )
                         )

Sys.time() - start.time
Time difference of 2.710633 secs
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <pre><code>  Year month          GROUP Amount.Count Amount.Average Amount.Total
1 2013     1 Door Recurring        10648       16.94191     180397.5
2 2014     1 Door Recurring         9753       18.46033     180043.6
3 2015     1 Door Recurring         9383       19.80147     185797.2
4 2016     1 Door Recurring         8614       20.28150     174704.9
5 2013     2 Door Recurring        10264       17.15470     176075.8
6 2014     2 Door Recurring         9370       18.67224     174958.9
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-15" style="background:;">
  <hgroup>
    <h2>Data manipulation using functions from R packages</h2>
  </hgroup>
  <article data-timings="">
    <!--

data.table() shorter code and memory efficient but hard to learn
dplyr() pipe operator easy to learn but consumes memory


-->

<p>Using external packages like <code>library(data.table)</code> can really solve the efficiency problem.</p>

<p>When dealing with large data aggregation, it can shrink the time significantly.</p>

<p>Other packages like <code>dplyr</code>, <code>reshape2</code> can also help aggregate data for different purposes</p>

<div style='float:left;width:48%;' class='centered'>
  <pre><code class="r">library(data.table)
load(&quot;F:\\Software backup\\gift.RData&quot;)
start.time &lt;- Sys.time()
gift.dt &lt;- data.table(gift)
gift.ag &lt;- gift.dt[,list(Count = length(Amount), 
                         Average = mean(Amount), 
                         Total = sum(Amount)), 
                   by = list(Year, month, GROUP)]
Sys.time() - start.time
Time difference of 0.1627851 secs
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <pre><code>   Year month                     GROUP Count  Average     Total
1: 2014     3 Telefundraising Recurring  4037 24.68985  99672.92
2: 2014     3            Door Recurring  9486 18.59677 176408.92
3: 2014     3          Street Recurring 14565 15.40297 224344.26
4: 2014     4          Street Recurring 14246 15.17175 216136.76
5: 2014     4            Door Recurring  9448 18.27036 172618.36
6: 2014     4 Telefundraising Recurring  4125 24.63313 101611.67
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="dark" id="slide-16" style="background:;">
  <article data-timings="">
    <p style='font-size:100px'>
<font color='white'>
R data visualization 
</font>
</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-17" style="background:;">
  <hgroup>
    <h2>Base R plot</h2>
  </hgroup>
  <article data-timings="">
    <!--
plot()


-->

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-18" style="background:;">
  <hgroup>
    <h2>ggplot2 (<font color="red">G</font>rammar of <font color="red">G</font>raphics)</h2>
  </hgroup>
  <article data-timings="">
    <p><br></p>

<h1>The basic idea of ggplot</h1>

<ul class = "build incremental">
<li><h1>ggplot2 deals with long table</h1></li>
<li><h1>ggplot2 pivots a long table into a Excel like pivot table and then visualize the data</h1>

<ul class = "build incremental">
<li>specify columns/fields to be used in x and y axis</li>
<li>specify which column/fields you want to break the data by</li>
<li>specify the plot type by adding (<code>+</code>) layers on the canvas 

<ul>
<li>geom_bar()</li>
<li>geom_line()</li>
<li>geom_point()</li>
<li>etc</li>
</ul></li>
<li>Add other layers to customize colour, label, title, caption and background<br></li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-19" style="background:;">
  <hgroup>
    <h2>ggplot2</h2>
  </hgroup>
  <article data-timings="">
    <h1>Example of ggplot</h1>

<pre><code class="r">library(ggplot2)
gift.ag &lt;- gift.ag[order(gift.ag$GROUP, descending = FALSE),]

ggplot(data = gift.ag , aes(x=date, y=Count, fill = GROUP)) +
  geom_bar(stat = &quot;identity&quot;) +
  ggtitle(&quot;Number of Recurring Gift by FR Programme&quot;)
</code></pre>

<p><img src="assets/fig/unnamed-chunk-15-1.png" alt="plot of chunk unnamed-chunk-15"></p>

<!--

<div class="red2">
This text is red
</div>sdfsfdf

-->

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-20" style="background:;">
  <hgroup>
    <h2>Interactive plot</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">library(googleVis)
options(gvis.plot.tag=&#39;chart&#39;)
M1 &lt;- gvisMotionChart(Fruits, idvar = &quot;Fruit&quot;, timevar = &quot;Year&quot;)
show(M1$html$chart)
</code></pre>

<pre><code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         jsHeader 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            &quot;&lt;!-- MotionChart generated in R 3.3.1 by googleVis 0.6.1 package --&gt;\n&lt;!-- Wed Nov 16 23:59:45 2016 --&gt;\n\n\n&lt;!-- jsHeader --&gt;\n&lt;script type=\&quot;text/javascript\&quot;&gt;\n&quot; 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           jsData 
                                                                                                                                                                                                                                                                                                                &quot;\n// jsData \nfunction gvisDataMotionChartIDd6474c15e96 () {\nvar data = new google.visualization.DataTable();\nvar datajson =\n[\n [\n\&quot;Apples\&quot;,\n2008,\n\&quot;West\&quot;,\n98,\n78,\n20,\n\&quot;2008-12-31\&quot;\n],\n[\n\&quot;Apples\&quot;,\n2009,\n\&quot;West\&quot;,\n111,\n79,\n32,\n\&quot;2009-12-31\&quot;\n],\n[\n\&quot;Apples\&quot;,\n2010,\n\&quot;West\&quot;,\n89,\n76,\n13,\n\&quot;2010-12-31\&quot;\n],\n[\n\&quot;Oranges\&quot;,\n2008,\n\&quot;East\&quot;,\n96,\n81,\n15,\n\&quot;2008-12-31\&quot;\n],\n[\n\&quot;Bananas\&quot;,\n2008,\n\&quot;East\&quot;,\n85,\n76,\n9,\n\&quot;2008-12-31\&quot;\n],\n[\n\&quot;Oranges\&quot;,\n2009,\n\&quot;East\&quot;,\n93,\n80,\n13,\n\&quot;2009-12-31\&quot;\n],\n[\n\&quot;Bananas\&quot;,\n2009,\n\&quot;East\&quot;,\n94,\n78,\n16,\n\&quot;2009-12-31\&quot;\n],\n[\n\&quot;Oranges\&quot;,\n2010,\n\&quot;East\&quot;,\n98,\n91,\n7,\n\&quot;2010-12-31\&quot;\n],\n[\n\&quot;Bananas\&quot;,\n2010,\n\&quot;East\&quot;,\n81,\n71,\n10,\n\&quot;2010-12-31\&quot;\n] \n];\ndata.addColumn(&#39;string&#39;,&#39;Fruit&#39;);\ndata.addColumn(&#39;number&#39;,&#39;Year&#39;);\ndata.addColumn(&#39;string&#39;,&#39;Location&#39;);\ndata.addColumn(&#39;number&#39;,&#39;Sales&#39;);\ndata.addColumn(&#39;number&#39;,&#39;Expenses&#39;);\ndata.addColumn(&#39;number&#39;,&#39;Profit&#39;);\ndata.addColumn(&#39;string&#39;,&#39;Date&#39;);\ndata.addRows(datajson);\nreturn(data);\n}\n&quot; 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      jsDrawChart 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             &quot;\n// jsDrawChart\nfunction drawChartMotionChartIDd6474c15e96() {\nvar data = gvisDataMotionChartIDd6474c15e96();\nvar options = {};\noptions[\&quot;width\&quot;] = 600;\noptions[\&quot;height\&quot;] = 500;\noptions[\&quot;state\&quot;] = \&quot;\&quot;;\n\n\n    var chart = new google.visualization.MotionChart(\n    document.getElementById(&#39;MotionChartIDd6474c15e96&#39;)\n    );\n    chart.draw(data,options);\n    \n\n}\n  \n&quot; 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   jsDisplayChart 
</code></pre>

<p>&quot;\n// jsDisplayChart\n(function() {\nvar pkgs = window.<strong>gvisPackages = window.</strong>gvisPackages || [];\nvar callbacks = window.<strong>gvisCallbacks = window.</strong>gvisCallbacks || [];\nvar chartid = \&quot;motionchart\&quot;;\n  \n// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)\nvar i, newPackage = true;\nfor (i = 0; newPackage &amp;&amp; i &lt; pkgs.length; i++) {\nif (pkgs[i] === chartid)\nnewPackage = false;\n}\nif (newPackage)\n  pkgs.push(chartid);\n  \n// Add the drawChart function to the global list of callbacks\ncallbacks.push(drawChartMotionChartIDd6474c15e96);\n})();\nfunction displayChartMotionChartIDd6474c15e96() {\n  var pkgs = window.<strong>gvisPackages = window.</strong>gvisPackages || [];\n  var callbacks = window.<strong>gvisCallbacks = window.</strong>gvisCallbacks || [];\n  window.clearTimeout(window.<strong>gvisLoad);\n  // The timeout is set to 100 because otherwise the container div we are\n  // targeting might not be part of the document yet\n  window.</strong>gvisLoad = setTimeout(function() {\n  var pkgCount = pkgs.length;\n  google.load(\&quot;visualization\&quot;, \&quot;1\&quot;, { packages:pkgs, callback: function() {\n  if (pkgCount != pkgs.length) {\n  // Race condition where another setTimeout call snuck in after us; if\n  // that call added a package, we must not shift its callback\n  return;\n}\nwhile (callbacks.length &gt; 0)\ncallbacks.shift()();\n} });\n}, 100);\n}\n&quot; 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             jsFooter 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         &quot;\n// jsFooter\n</script>\n&quot; 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              jsChart 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              &quot;\n&lt;!-- jsChart --&gt;  \n<script type=\"text/javascript\" src=\"https://www.google.com/jsapi?callback=displayChartMotionChartIDd6474c15e96\"></script>\n&quot; 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             divChart 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &quot;\n&lt;!-- divChart --&gt;\n  \n<div id=\"MotionChartIDd6474c15e96\" \n  style=\"width: 600; height: 500;\">\n</div>\n&quot; </p>

<pre><code class="r">#gmotion
</code></pre>

<div style='float:left;width:48%;' class='centered'>
  
</div>
<div style='float:right;width:48%;'>
  
</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-21" style="background:;">
  <hgroup>
    <h2>Motion chart example</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">library(googleVis)
options(gvis.plot.tag=&#39;chart&#39;)
Pie &lt;- gvisPieChart(CityPopularity,
                    options=list(width=400, height=200))
print(Pie, tag = &#39;chart&#39;)
</code></pre>

<!-- PieChart generated in R 3.3.1 by googleVis 0.6.1 package -->

<!-- Wed Nov 16 23:42:05 2016 -->

<!-- jsHeader -->

<script type="text/javascript">
 
// jsData 
function gvisDataPieChartIDd6447a4b9c () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"New York",
200
],
[
"Boston",
300
],
[
"Miami",
400
],
[
"Chicago",
500
],
[
"Los Angeles",
600
],
[
"Houston",
700
] 
];
data.addColumn('string','City');
data.addColumn('number','Popularity');
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartPieChartIDd6447a4b9c() {
var data = gvisDataPieChartIDd6447a4b9c();
var options = {};
options["allowHtml"] = true;
options["width"] = 400;
options["height"] = 200;

    var chart = new google.visualization.PieChart(
    document.getElementById('PieChartIDd6447a4b9c')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartPieChartIDd6447a4b9c);
})();
function displayChartPieChartIDd6447a4b9c() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script>
 

<!-- jsChart -->  

<script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartPieChartIDd6447a4b9c"></script>
 

<!-- divChart -->

<div id="PieChartIDd6447a4b9c" 
  style="width: 400; height: 200;">
</div>

<!--

associate with javascript


-->

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="dark" id="slide-22" style="background:;">
  <article data-timings="">
    <p style='font-size:100px'>
<font color='white'>
R shiny dashboard 
</font>
</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-23" style="background:;">
  <hgroup>
    <h2>Integrate R output with dashboard</h2>
  </hgroup>
  <article data-timings="">
    <p><br></br></p>

<ul class = "build incremental">
<li><h1><a href="http://shiny.rstudio.com/tutorial/">shiny</a> is an external R package (<code>library(shiny)</code>) that can be used to integrated analysis results and share with others.</h1></li>
<li><h1>Shiny application can make the results from your output interactive and dynamic.</h1></li>
<li><h1>Structure of a shiny application</h1>

<ul class = "build incremental">
<li>ui.R: <br>
   Control the layout, <code>input</code> value and present <code>output</code>.</li>
<li>server.R:<br>
   Process the calculation based on the <code>input</code> value and produce <code>output</code>.</li>
<li>global.R (optional):<br>
   Preload static information needed</li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-24" style="background:;">
  <hgroup>
    <h2>Realtion between ui.R and server.R</h2>
  </hgroup>
  <article data-timings="">
    <!--![relation](http://www.alternatestack.com/wp-content/uploads/2014/03/UiServerInteraction.png =100x) -->

<p><br></br>
<center><img src="http://www.alternatestack.com/wp-content/uploads/2014/03/UiServerInteraction.png" width="80%" height="80%"></center></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-25" style="background:;">
  <hgroup>
    <h2>Shiny application demo</h2>
  </hgroup>
  <article data-timings="">
    <p><br></br></p>

<ul class = "build incremental">
<li><h1>Demo 1: <br></h1>

<h1>Google Motion Chart and Twitter WordCloud</h1></li>
<li><h1>Demo 2: <br></h1>

<h1><a href="https://martinhyy.shinyapps.io/SaveReport/">Saves Report</a> for Supporter Relationship Team</h1></li>
<li><h1>Demo 3: <br></h1>

<h1><a href="https://martinhyy.shinyapps.io/ShinyApp/">Geographic Gallery</a></h1></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-26" style="background:;">
  <hgroup>
    <h2>Publish/deploy dashboard online</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="dark" id="slide-27" style="background:;">
  <article data-timings="">
    <p style='font-size:100px'>
<font color='white'>
Write document in R
</font>
</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-28" style="background:;">
  <hgroup>
    <h2>Knitr in R</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-29" style="background:;">
  <hgroup>
    <h2>Presentation in R slidify</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-30" style="background:;">
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

    <slide class="backdrop"></slide>
  </slides>
  <div class="pagination pagination-small" id='io2012-ptoc' style="display:none;">
    <ul>
      <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=1 title='NA'>
         1
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=2 title='Why R'>
         2
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=3 title='Some stats about R'>
         3
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=4 title='Something in between'>
         4
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=5 title='NA'>
         5
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=6 title='Connect to different data'>
         6
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=7 title='R to flat file'>
         7
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=8 title='R to MySQL and SQL'>
         8
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=9 title='R to online data'>
         9
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=10 title='R to GIS data'>
         10
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=11 title='R to GIS data'>
         11
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=12 title='R to Graph database'>
         12
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=13 title='NA'>
         13
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=14 title='Data manipulation using base R functions'>
         14
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=15 title='Data manipulation using functions from R packages'>
         15
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=16 title='NA'>
         16
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=17 title='Base R plot'>
         17
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=18 title='ggplot2 (<font color="red">G</font>rammar of <font color="red">G</font>raphics)'>
         18
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=19 title='ggplot2'>
         19
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=20 title='Interactive plot'>
         20
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=21 title='Motion chart example'>
         21
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=22 title='NA'>
         22
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=23 title='Integrate R output with dashboard'>
         23
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=24 title='Realtion between ui.R and server.R'>
         24
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=25 title='Shiny application demo'>
         25
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=26 title='Publish/deploy dashboard online'>
         26
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=27 title='NA'>
         27
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=28 title='Knitr in R'>
         28
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=29 title='Presentation in R slidify'>
         29
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=30 title='NA'>
         30
      </a>
    </li>
  </ul>
  </div>  <!--[if IE]>
    <script 
      src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js">  
    </script>
    <script>CFInstall.check({mode: 'overlay'});</script>
  <![endif]-->
</body>
  <!-- Load Javascripts for Widgets -->
  
  <!-- LOAD HIGHLIGHTER JS FILES -->
  <script src="libraries/highlighters/highlight.js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <!-- DONE LOADING HIGHLIGHTER JS FILES -->
   
  </html>